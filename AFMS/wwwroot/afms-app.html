<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFMS - Airport Flight Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #0f172a;
            color: #f1f5f9;
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #1e293b;
            padding: 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .app-logo {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .app-title {
            font-size: 24px;
            font-weight: 700;
            color: #f1f5f9;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            color: #94a3b8;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-item:hover {
            background: #334155;
            color: #f1f5f9;
        }

        .nav-item.active {
            background: #3b82f6;
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 16px 32px;
            background: #1e293b;
            gap: 24px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .current-time {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .time-label {
            font-size: 12px;
            color: #64748b;
        }

        .time-value {
            font-size: 18px;
            font-weight: 600;
            color: #f1f5f9;
        }

        .avatar-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #3b82f6;
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
        }

        .dashboard-container {
            padding: 32px;
            flex: 1;
        }

        .page-header {
            margin-bottom: 24px;
        }

        .back-link {
            color: #3b82f6;
            text-decoration: none;
            margin-bottom: 10px;
            display: inline-block;
            cursor: pointer;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .page-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: #94a3b8;
            font-size: 16px;
        }

        /* Cards */
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
        }

        /* Table */
        .flights-table {
            width: 100%;
            border-collapse: collapse;
        }

        .flights-table th {
            background: #334155;
            color: #94a3b8;
            padding: 16px;
            text-align: left;
            font-weight: 500;
        }

        .flights-table td {
            padding: 16px;
            border-bottom: 1px solid #334155;
            color: #cbd5e1;
        }

        .flights-table tr:hover {
            background: #334155;
        }

        /* Status Badge */
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            color: white;
            display: inline-block;
        }

        .status-scheduled { background: #94a3b8; }
        .status-ontime { background: #10b981; }
        .status-delayed { background: #f59e0b; }
        .status-cancelled { background: #ef4444; }
        .status-boarding { background: #3b82f6; }
        .status-departed { background: #6366f1; }
        .status-arrived { background: #10b981; }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            border: none;
            font-size: 14px;
            display: inline-block;
            transition: opacity 0.2s;
        }

        .btn:hover { opacity: 0.9; }

        .btn-primary { background: #3b82f6; color: white; }
        .btn-edit { background: #f59e0b; color: white; }
        .btn-delete { background: #ef4444; color: white; }
        .btn-secondary { background: #64748b; color: white; }

        .btn-sm {
            padding: 6px 12px;
            font-size: 13px;
        }

        /* Action Links */
        .action-link {
            color: #3b82f6;
            text-decoration: none;
            margin-right: 12px;
            cursor: pointer;
        }

        .action-link:hover { text-decoration: underline; }
        .action-link.edit { color: #f59e0b; }
        .action-link.delete { color: #ef4444; }

        /* Form Styles */
        .form-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #f1f5f9;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-size: 14px;
            color: #94a3b8;
            margin-bottom: 8px;
        }

        .form-input, .form-select {
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid #334155;
            background: #0f172a;
            color: #f1f5f9;
            font-size: 14px;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .form-actions {
            display: flex;
            gap: 16px;
            margin-top: 24px;
        }

        /* Details Grid */
        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .detail-card {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
        }

        .detail-label {
            color: #64748b;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .detail-value {
            font-size: 18px;
            font-weight: 600;
            color: #f1f5f9;
        }

        /* Alert */
        .alert {
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .alert-success { background: #10b981; color: white; }
        .alert-warning { background: #ef4444; color: white; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active { display: flex; }

        .modal-content {
            background: #1e293b;
            border-radius: 12px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
        }

        /* Page views */
        .page-view {
            display: none;
        }

        .page-view.active {
            display: block;
        }

        /* Empty state */
        .empty-state {
            padding: 60px 40px;
            text-align: center;
            color: #94a3b8;
        }

        .flight-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
        }

        .header-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">‚úàÔ∏è</div>
                <h1 class="app-title">AFMS</h1>
            </div>

            <nav class="sidebar-nav">
                <a class="nav-item" data-page="dashboard" onclick="showPage('dashboard')">üìä Dashboard</a>
                <a class="nav-item" data-page="add" onclick="showPage('add')">‚ûï Add Flight</a>
                <a class="nav-item" data-page="list" onclick="showPage('list')">üìã All Flights</a>
                <a class="nav-item" data-page="search" onclick="showPage('search')">üîç Search</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <header class="top-bar">
                <div class="current-time">
                    <span class="time-label">Current Time</span>
                    <span class="time-value" id="currentTime">00:00:00</span>
                </div>
                <div class="user-avatar">
                    <button class="avatar-btn">A</button>
                </div>
            </header>

            <div class="dashboard-container">
                <!-- Alert Container -->
                <div id="alertContainer"></div>

                <!-- Dashboard Page -->
                <div id="page-dashboard" class="page-view active">
                    <div class="page-header">
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Welcome to Airport Flight Management System</p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px;">
                        <div class="card" style="text-align: center;">
                            <p style="color: #64748b; font-size: 14px;">Total Flights</p>
                            <p id="stat-total" style="font-size: 36px; font-weight: 700; color: #3b82f6;">0</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <p style="color: #64748b; font-size: 14px;">On Time</p>
                            <p id="stat-ontime" style="font-size: 36px; font-weight: 700; color: #10b981;">0</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <p style="color: #64748b; font-size: 14px;">Delayed</p>
                            <p id="stat-delayed" style="font-size: 36px; font-weight: 700; color: #f59e0b;">0</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <p style="color: #64748b; font-size: 14px;">Cancelled</p>
                            <p id="stat-cancelled" style="font-size: 36px; font-weight: 700; color: #ef4444;">0</p>
                        </div>
                    </div>

                    <div class="header-actions" style="margin-bottom: 20px;">
                        <h2 style="font-size: 20px;">Recent Flights</h2>
                        <button class="btn btn-primary" onclick="showPage('add')">+ Add New Flight</button>
                    </div>

                    <div class="card" style="padding: 0; overflow: hidden;">
                        <table class="flights-table">
                            <thead>
                                <tr>
                                    <th>Flight #</th>
                                    <th>Airline</th>
                                    <th>Destination</th>
                                    <th>Departure</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="dashboard-flights"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Flight List Page -->
                <div id="page-list" class="page-view">
                    <div class="header-actions">
                        <div>
                            <h1 class="page-title">All Flights</h1>
                            <p class="page-subtitle">View and manage all flights in the system</p>
                        </div>
                        <button class="btn btn-primary" onclick="showPage('add')">+ Add New Flight</button>
                    </div>

                    <div class="card" style="padding: 0; overflow: hidden; margin-top: 24px;">
                        <table class="flights-table">
                            <thead>
                                <tr>
                                    <th>Flight #</th>
                                    <th>Airline</th>
                                    <th>Destination</th>
                                    <th>Departure</th>
                                    <th>Arrival</th>
                                    <th>Gate</th>
                                    <th>Terminal</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="flights-list"></tbody>
                        </table>
                        <div id="empty-list" class="empty-state" style="display: none;">
                            <p style="font-size: 18px; margin-bottom: 8px;">No flights found</p>
                            <p>Click "Add New Flight" to create your first flight.</p>
                        </div>
                    </div>
                </div>

                <!-- Add Flight Page -->
                <div id="page-add" class="page-view">
                    <div class="page-header">
                        <h1 class="page-title">Add Flight</h1>
                        <p class="page-subtitle">Enter flight details to add a new flight to the system</p>
                    </div>

                    <div class="card">
                        <form id="addFlightForm" onsubmit="return saveFlight(event)">
                            <input type="hidden" id="flight-id" value="">
                            
                            <div class="form-section">
                                <h3 class="section-title">Flight Information</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Flight Number *</label>
                                        <input type="text" id="flight-number" class="form-input" placeholder="e.g., AA1234" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Airline *</label>
                                        <select id="flight-airline" class="form-select" required>
                                            <option value="">Select Airline</option>
                                            <!-- North America -->
                                            <optgroup label="North America">
                                                <option value="American Airlines">American Airlines (USA)</option>
                                                <option value="Delta Air Lines">Delta Air Lines (USA)</option>
                                                <option value="United Airlines">United Airlines (USA)</option>
                                                <option value="Southwest Airlines">Southwest Airlines (USA)</option>
                                                <option value="Air Canada">Air Canada (Canada)</option>
                                                <option value="Aeromexico">Aeromexico (Mexico)</option>
                                            </optgroup>
                                            <!-- Europe -->
                                            <optgroup label="Europe">
                                                <option value="British Airways">British Airways (UK)</option>
                                                <option value="Lufthansa">Lufthansa (Germany)</option>
                                                <option value="Air France">Air France (France)</option>
                                                <option value="KLM Royal Dutch">KLM Royal Dutch (Netherlands)</option>
                                                <option value="Ryanair">Ryanair (Ireland)</option>
                                                <option value="Turkish Airlines">Turkish Airlines (Turkey)</option>
                                                <option value="Swiss International">Swiss International (Switzerland)</option>
                                                <option value="Iberia">Iberia (Spain)</option>
                                            </optgroup>
                                            <!-- Middle East -->
                                            <optgroup label="Middle East">
                                                <option value="Emirates">Emirates (UAE)</option>
                                                <option value="Qatar Airways">Qatar Airways (Qatar)</option>
                                                <option value="Etihad Airways">Etihad Airways (UAE)</option>
                                                <option value="Saudia">Saudia (Saudi Arabia)</option>
                                            </optgroup>
                                            <!-- Asia Pacific -->
                                            <optgroup label="Asia Pacific">
                                                <option value="Singapore Airlines">Singapore Airlines (Singapore)</option>
                                                <option value="Cathay Pacific">Cathay Pacific (Hong Kong)</option>
                                                <option value="Japan Airlines">Japan Airlines (Japan)</option>
                                                <option value="ANA">ANA - All Nippon Airways (Japan)</option>
                                                <option value="Korean Air">Korean Air (South Korea)</option>
                                                <option value="Qantas">Qantas (Australia)</option>
                                                <option value="Air New Zealand">Air New Zealand (New Zealand)</option>
                                                <option value="Thai Airways">Thai Airways (Thailand)</option>
                                                <option value="Air India">Air India (India)</option>
                                                <option value="China Airlines">China Airlines (Taiwan)</option>
                                                <option value="Air China">Air China (China)</option>
                                            </optgroup>
                                            <!-- Africa -->
                                            <optgroup label="Africa">
                                                <option value="Ethiopian Airlines">Ethiopian Airlines (Ethiopia)</option>
                                                <option value="South African Airways">South African Airways (South Africa)</option>
                                                <option value="EgyptAir">EgyptAir (Egypt)</option>
                                                <option value="Royal Air Maroc">Royal Air Maroc (Morocco)</option>
                                            </optgroup>
                                            <!-- South America -->
                                            <optgroup label="South America">
                                                <option value="LATAM Airlines">LATAM Airlines (Chile/Brazil)</option>
                                                <option value="Avianca">Avianca (Colombia)</option>
                                                <option value="GOL Airlines">GOL Airlines (Brazil)</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Destination *</label>
                                        <select id="flight-destination" class="form-select" required>
                                            <option value="">Select Destination</option>
                                            <!-- North America -->
                                            <optgroup label="North America">
                                                <option value="New York (JFK), USA">New York (JFK)</option>
                                                <option value="Los Angeles (LAX), USA">Los Angeles (LAX)</option>
                                                <option value="Chicago (ORD), USA">Chicago (ORD)</option>
                                                <option value="Miami (MIA), USA">Miami (MIA)</option>
                                                <option value="San Francisco (SFO), USA">San Francisco (SFO)</option>
                                                <option value="Toronto (YYZ), Canada">Toronto (YYZ)</option>
                                                <option value="Vancouver (YVR), Canada">Vancouver (YVR)</option>
                                                <option value="Mexico City (MEX), Mexico">Mexico City (MEX)</option>
                                            </optgroup>
                                            <!-- Europe -->
                                            <optgroup label="Europe">
                                                <option value="London Heathrow (LHR), UK">London Heathrow (LHR)</option>
                                                <option value="London Gatwick (LGW), UK">London Gatwick (LGW)</option>
                                                <option value="Paris CDG (CDG), France">Paris CDG (CDG)</option>
                                                <option value="Frankfurt (FRA), Germany">Frankfurt (FRA)</option>
                                                <option value="Amsterdam (AMS), Netherlands">Amsterdam (AMS)</option>
                                                <option value="Madrid (MAD), Spain">Madrid (MAD)</option>
                                                <option value="Rome (FCO), Italy">Rome (FCO)</option>
                                                <option value="Zurich (ZRH), Switzerland">Zurich (ZRH)</option>
                                                <option value="Istanbul (IST), Turkey">Istanbul (IST)</option>
                                                <option value="Dublin (DUB), Ireland">Dublin (DUB)</option>
                                            </optgroup>
                                            <!-- Middle East -->
                                            <optgroup label="Middle East">
                                                <option value="Dubai (DXB), UAE">Dubai (DXB)</option>
                                                <option value="Abu Dhabi (AUH), UAE">Abu Dhabi (AUH)</option>
                                                <option value="Doha (DOH), Qatar">Doha (DOH)</option>
                                                <option value="Riyadh (RUH), Saudi Arabia">Riyadh (RUH)</option>
                                            </optgroup>
                                            <!-- Asia Pacific -->
                                            <optgroup label="Asia Pacific">
                                                <option value="Singapore (SIN), Singapore">Singapore (SIN)</option>
                                                <option value="Hong Kong (HKG), China">Hong Kong (HKG)</option>
                                                <option value="Tokyo Narita (NRT), Japan">Tokyo Narita (NRT)</option>
                                                <option value="Tokyo Haneda (HND), Japan">Tokyo Haneda (HND)</option>
                                                <option value="Seoul (ICN), South Korea">Seoul (ICN)</option>
                                                <option value="Sydney (SYD), Australia">Sydney (SYD)</option>
                                                <option value="Melbourne (MEL), Australia">Melbourne (MEL)</option>
                                                <option value="Bangkok (BKK), Thailand">Bangkok (BKK)</option>
                                                <option value="Mumbai (BOM), India">Mumbai (BOM)</option>
                                                <option value="Delhi (DEL), India">Delhi (DEL)</option>
                                                <option value="Beijing (PEK), China">Beijing (PEK)</option>
                                                <option value="Shanghai (PVG), China">Shanghai (PVG)</option>
                                                <option value="Auckland (AKL), New Zealand">Auckland (AKL)</option>
                                            </optgroup>
                                            <!-- Africa -->
                                            <optgroup label="Africa">
                                                <option value="Johannesburg (JNB), South Africa">Johannesburg (JNB)</option>
                                                <option value="Cape Town (CPT), South Africa">Cape Town (CPT)</option>
                                                <option value="Cairo (CAI), Egypt">Cairo (CAI)</option>
                                                <option value="Addis Ababa (ADD), Ethiopia">Addis Ababa (ADD)</option>
                                                <option value="Nairobi (NBO), Kenya">Nairobi (NBO)</option>
                                                <option value="Casablanca (CMN), Morocco">Casablanca (CMN)</option>
                                                <option value="Lagos (LOS), Nigeria">Lagos (LOS)</option>
                                            </optgroup>
                                            <!-- South America -->
                                            <optgroup label="South America">
                                                <option value="S√£o Paulo (GRU), Brazil">S√£o Paulo (GRU)</option>
                                                <option value="Rio de Janeiro (GIG), Brazil">Rio de Janeiro (GIG)</option>
                                                <option value="Buenos Aires (EZE), Argentina">Buenos Aires (EZE)</option>
                                                <option value="Lima (LIM), Peru">Lima (LIM)</option>
                                                <option value="Bogot√° (BOG), Colombia">Bogot√° (BOG)</option>
                                                <option value="Santiago (SCL), Chile">Santiago (SCL)</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Status</label>
                                        <select id="flight-status" class="form-select">
                                            <option value="Scheduled">Scheduled</option>
                                            <option value="On Time">On Time</option>
                                            <option value="Delayed">Delayed</option>
                                            <option value="Boarding">Boarding</option>
                                            <option value="Departed">Departed</option>
                                            <option value="Arrived">Arrived</option>
                                            <option value="Cancelled">Cancelled</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="section-title">Timing</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Departure Time *</label>
                                        <input type="datetime-local" id="flight-departure" class="form-input" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Arrival Time *</label>
                                        <input type="datetime-local" id="flight-arrival" class="form-input" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="section-title">Logistics</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Gate</label>
                                        <input type="text" id="flight-gate" class="form-input" placeholder="e.g., A12">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Terminal</label>
                                        <select id="flight-terminal" class="form-select">
                                            <option value="1">Terminal 1</option>
                                            <option value="2">Terminal 2</option>
                                            <option value="3">Terminal 3</option>
                                            <option value="4">Terminal 4</option>
                                            <option value="5">Terminal 5</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">üíæ Save Flight</button>
                                <button type="button" class="btn btn-secondary" onclick="cancelForm()">‚úï Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Flight Details Page -->
                <div id="page-details" class="page-view">
                    <div class="page-header">
                        <a class="back-link" onclick="showPage('list')">‚Üê Back to All Flights</a>
                        <h1 class="page-title" id="details-title">Flight</h1>
                        <p class="page-subtitle" id="details-subtitle"></p>
                    </div>

                    <div class="card">
                        <div class="flight-header">
                            <div>
                                <h2 id="details-flight-number" style="font-size: 28px; margin-bottom: 8px;"></h2>
                                <p id="details-airline" style="color: #94a3b8;"></p>
                            </div>
                            <span id="details-status" class="status-badge"></span>
                        </div>

                        <div class="details-grid" id="details-grid"></div>
                    </div>

                    <div style="display: flex; gap: 16px;">
                        <button class="btn btn-edit" onclick="editCurrentFlight()">‚úèÔ∏è Edit Flight</button>
                        <button class="btn btn-delete" onclick="deleteCurrentFlight()">üóëÔ∏è Delete Flight</button>
                    </div>
                </div>

                <!-- Search Page -->
                <div id="page-search" class="page-view">
                    <div class="page-header">
                        <h1 class="page-title">Search Flights</h1>
                        <p class="page-subtitle">Find flights by flight number, airline, or destination</p>
                    </div>

                    <div class="card">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Search</label>
                                <input type="text" id="search-input" class="form-input" placeholder="Enter flight number, airline, or destination..." oninput="searchFlights()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Filter by Status</label>
                                <select id="search-status" class="form-select" onchange="searchFlights()">
                                    <option value="">All Statuses</option>
                                    <option value="Scheduled">Scheduled</option>
                                    <option value="On Time">On Time</option>
                                    <option value="Delayed">Delayed</option>
                                    <option value="Boarding">Boarding</option>
                                    <option value="Departed">Departed</option>
                                    <option value="Arrived">Arrived</option>
                                    <option value="Cancelled">Cancelled</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="padding: 0; overflow: hidden; margin-top: 24px;">
                        <table class="flights-table">
                            <thead>
                                <tr>
                                    <th>Flight #</th>
                                    <th>Airline</th>
                                    <th>Destination</th>
                                    <th>Departure</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="search-results"></tbody>
                        </table>
                        <div id="no-results" class="empty-state" style="display: none;">
                            <p>No flights match your search criteria.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 16px;">Delete Flight</h2>
            <div class="alert alert-warning" style="margin-bottom: 20px;">
                ‚ö†Ô∏è <strong>Warning:</strong> This action cannot be undone.
            </div>
            <p style="margin-bottom: 24px;">Are you sure you want to delete flight <strong id="delete-flight-number"></strong>?</p>
            <div style="display: flex; gap: 16px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                <button class="btn btn-delete" onclick="confirmDelete()">üóëÔ∏è Delete</button>
            </div>
        </div>
    </div>

    <script>
        // Database - stored in localStorage
        let flights = JSON.parse(localStorage.getItem('flights')) || [];
        let currentFlightId = null;
        let flightToDelete = null;

        // Initialize with sample data if empty
        if (flights.length === 0) {
            flights = [
                // North America
                {
                    id: 1,
                    flightNumber: "AA1234",
                    airline: "American Airlines",
                    destination: "New York (JFK), USA",
                    departureTime: "2026-02-07T14:30",
                    arrivalTime: "2026-02-07T17:45",
                    gate: "A12",
                    terminal: "1",
                    status: "On Time"
                },
                {
                    id: 2,
                    flightNumber: "AC891",
                    airline: "Air Canada",
                    destination: "Toronto (YYZ), Canada",
                    departureTime: "2026-02-07T16:00",
                    arrivalTime: "2026-02-07T20:30",
                    gate: "B5",
                    terminal: "2",
                    status: "Boarding"
                },
                // Europe
                {
                    id: 3,
                    flightNumber: "BA178",
                    airline: "British Airways",
                    destination: "London Heathrow (LHR), UK",
                    departureTime: "2026-02-07T22:00",
                    arrivalTime: "2026-02-08T10:30",
                    gate: "C8",
                    terminal: "5",
                    status: "Scheduled"
                },
                {
                    id: 4,
                    flightNumber: "LH456",
                    airline: "Lufthansa",
                    destination: "Frankfurt (FRA), Germany",
                    departureTime: "2026-02-07T18:00",
                    arrivalTime: "2026-02-08T08:15",
                    gate: "D3",
                    terminal: "1",
                    status: "On Time"
                },
                {
                    id: 5,
                    flightNumber: "AF023",
                    airline: "Air France",
                    destination: "Paris CDG (CDG), France",
                    departureTime: "2026-02-07T21:30",
                    arrivalTime: "2026-02-08T11:45",
                    gate: "E7",
                    terminal: "2",
                    status: "Delayed"
                },
                // Middle East
                {
                    id: 6,
                    flightNumber: "EK201",
                    airline: "Emirates",
                    destination: "Dubai (DXB), UAE",
                    departureTime: "2026-02-07T23:00",
                    arrivalTime: "2026-02-08T19:30",
                    gate: "A1",
                    terminal: "3",
                    status: "Scheduled"
                },
                {
                    id: 7,
                    flightNumber: "QR777",
                    airline: "Qatar Airways",
                    destination: "Doha (DOH), Qatar",
                    departureTime: "2026-02-07T20:00",
                    arrivalTime: "2026-02-08T15:00",
                    gate: "B12",
                    terminal: "1",
                    status: "On Time"
                },
                // Asia Pacific
                {
                    id: 8,
                    flightNumber: "SQ025",
                    airline: "Singapore Airlines",
                    destination: "Singapore (SIN), Singapore",
                    departureTime: "2026-02-07T01:00",
                    arrivalTime: "2026-02-08T06:30",
                    gate: "F4",
                    terminal: "2",
                    status: "Departed"
                },
                {
                    id: 9,
                    flightNumber: "JL061",
                    airline: "Japan Airlines",
                    destination: "Tokyo Narita (NRT), Japan",
                    departureTime: "2026-02-07T13:00",
                    arrivalTime: "2026-02-08T17:00",
                    gate: "G9",
                    terminal: "1",
                    status: "Boarding"
                },
                {
                    id: 10,
                    flightNumber: "QF012",
                    airline: "Qantas",
                    destination: "Sydney (SYD), Australia",
                    departureTime: "2026-02-07T22:30",
                    arrivalTime: "2026-02-09T06:45",
                    gate: "H2",
                    terminal: "4",
                    status: "Scheduled"
                },
                {
                    id: 11,
                    flightNumber: "CX840",
                    airline: "Cathay Pacific",
                    destination: "Hong Kong (HKG), China",
                    departureTime: "2026-02-07T00:30",
                    arrivalTime: "2026-02-08T05:15",
                    gate: "A5",
                    terminal: "1",
                    status: "Arrived"
                },
                {
                    id: 12,
                    flightNumber: "AI102",
                    airline: "Air India",
                    destination: "Mumbai (BOM), India",
                    departureTime: "2026-02-07T19:00",
                    arrivalTime: "2026-02-08T18:30",
                    gate: "B8",
                    terminal: "2",
                    status: "On Time"
                },
                // Africa
                {
                    id: 13,
                    flightNumber: "ET500",
                    airline: "Ethiopian Airlines",
                    destination: "Addis Ababa (ADD), Ethiopia",
                    departureTime: "2026-02-07T23:45",
                    arrivalTime: "2026-02-08T17:00",
                    gate: "C2",
                    terminal: "3",
                    status: "Scheduled"
                },
                {
                    id: 14,
                    flightNumber: "SA203",
                    airline: "South African Airways",
                    destination: "Johannesburg (JNB), South Africa",
                    departureTime: "2026-02-07T17:30",
                    arrivalTime: "2026-02-08T14:00",
                    gate: "D7",
                    terminal: "1",
                    status: "Delayed"
                },
                // South America
                {
                    id: 15,
                    flightNumber: "LA800",
                    airline: "LATAM Airlines",
                    destination: "S√£o Paulo (GRU), Brazil",
                    departureTime: "2026-02-07T22:00",
                    arrivalTime: "2026-02-08T09:30",
                    gate: "E3",
                    terminal: "2",
                    status: "On Time"
                },
                {
                    id: 16,
                    flightNumber: "AV020",
                    airline: "Avianca",
                    destination: "Bogot√° (BOG), Colombia",
                    departureTime: "2026-02-07T08:00",
                    arrivalTime: "2026-02-07T13:30",
                    gate: "F1",
                    terminal: "4",
                    status: "Departed"
                },
                // More Europe
                {
                    id: 17,
                    flightNumber: "TK080",
                    airline: "Turkish Airlines",
                    destination: "Istanbul (IST), Turkey",
                    departureTime: "2026-02-07T23:30",
                    arrivalTime: "2026-02-08T16:00",
                    gate: "G5",
                    terminal: "1",
                    status: "Scheduled"
                },
                {
                    id: 18,
                    flightNumber: "KL642",
                    airline: "KLM Royal Dutch",
                    destination: "Amsterdam (AMS), Netherlands",
                    departureTime: "2026-02-07T17:00",
                    arrivalTime: "2026-02-08T07:30",
                    gate: "H8",
                    terminal: "3",
                    status: "On Time"
                },
                // More Asia
                {
                    id: 19,
                    flightNumber: "KE012",
                    airline: "Korean Air",
                    destination: "Seoul Incheon (ICN), South Korea",
                    departureTime: "2026-02-07T12:00",
                    arrivalTime: "2026-02-08T16:30",
                    gate: "A9",
                    terminal: "2",
                    status: "Boarding"
                },
                {
                    id: 20,
                    flightNumber: "NZ002",
                    airline: "Air New Zealand",
                    destination: "Auckland (AKL), New Zealand",
                    departureTime: "2026-02-07T21:00",
                    arrivalTime: "2026-02-09T09:00",
                    gate: "B3",
                    terminal: "1",
                    status: "Scheduled"
                }
            ];
            saveFlights();
        }

        // Save flights to localStorage
        function saveFlights() {
            localStorage.setItem('flights', JSON.stringify(flights));
        }

        // Get next ID
        function getNextId() {
            return flights.length > 0 ? Math.max(...flights.map(f => f.id)) + 1 : 1;
        }

        // Format datetime for display
        function formatDateTime(dateTimeStr) {
            const date = new Date(dateTimeStr);
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
        }

        // Calculate duration
        function calculateDuration(departure, arrival) {
            const dep = new Date(departure);
            const arr = new Date(arrival);
            const diffMs = arr - dep;
            const hours = Math.floor(diffMs / (1000 * 60 * 60));
            const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
            return `${hours}h ${minutes}m`;
        }

        // Get status class
        function getStatusClass(status) {
            const statusMap = {
                'Scheduled': 'scheduled',
                'On Time': 'ontime',
                'Delayed': 'delayed',
                'Cancelled': 'cancelled',
                'Boarding': 'boarding',
                'Departed': 'departed',
                'Arrived': 'arrived'
            };
            return statusMap[status] || 'scheduled';
        }

        // Show page
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-view').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById('page-' + pageName).classList.add('active');
            
            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.page === pageName) {
                    item.classList.add('active');
                }
            });

            // Refresh data
            if (pageName === 'dashboard') updateDashboard();
            if (pageName === 'list') renderFlightsList();
            if (pageName === 'add') resetForm();
            if (pageName === 'search') searchFlights();
        }

        // Show alert
        function showAlert(message, type = 'success') {
            const container = document.getElementById('alertContainer');
            container.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
            setTimeout(() => container.innerHTML = '', 3000);
        }

        // Update dashboard
        function updateDashboard() {
            // Update stats
            document.getElementById('stat-total').textContent = flights.length;
            document.getElementById('stat-ontime').textContent = flights.filter(f => f.status === 'On Time').length;
            document.getElementById('stat-delayed').textContent = flights.filter(f => f.status === 'Delayed').length;
            document.getElementById('stat-cancelled').textContent = flights.filter(f => f.status === 'Cancelled').length;

            // Render recent flights (last 5)
            const tbody = document.getElementById('dashboard-flights');
            const recentFlights = flights.slice(-5).reverse();
            tbody.innerHTML = recentFlights.map(flight => `
                <tr>
                    <td style="font-weight: 600; color: #f1f5f9;">${flight.flightNumber}</td>
                    <td>${flight.airline}</td>
                    <td>${flight.destination}</td>
                    <td>${formatDateTime(flight.departureTime)}</td>
                    <td><span class="status-badge status-${getStatusClass(flight.status)}">${flight.status}</span></td>
                    <td>
                        <a class="action-link" onclick="viewFlight(${flight.id})">View</a>
                        <a class="action-link edit" onclick="editFlight(${flight.id})">Edit</a>
                    </td>
                </tr>
            `).join('');
        }

        // Render flights list
        function renderFlightsList() {
            const tbody = document.getElementById('flights-list');
            const emptyState = document.getElementById('empty-list');

            if (flights.length === 0) {
                tbody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }

            emptyState.style.display = 'none';
            tbody.innerHTML = flights.map(flight => `
                <tr>
                    <td style="font-weight: 600; color: #f1f5f9;">${flight.flightNumber}</td>
                    <td>${flight.airline}</td>
                    <td>${flight.destination}</td>
                    <td>${formatDateTime(flight.departureTime)}</td>
                    <td>${formatDateTime(flight.arrivalTime)}</td>
                    <td>${flight.gate || 'TBD'}</td>
                    <td>${flight.terminal}</td>
                    <td><span class="status-badge status-${getStatusClass(flight.status)}">${flight.status}</span></td>
                    <td>
                        <a class="action-link" onclick="viewFlight(${flight.id})">View</a>
                        <a class="action-link edit" onclick="editFlight(${flight.id})">Edit</a>
                        <a class="action-link delete" onclick="showDeleteModal(${flight.id})">Delete</a>
                    </td>
                </tr>
            `).join('');
        }

        // View flight details
        function viewFlight(id) {
            const flight = flights.find(f => f.id === id);
            if (!flight) return;

            currentFlightId = id;

            document.getElementById('details-title').textContent = `Flight ${flight.flightNumber}`;
            document.getElementById('details-subtitle').textContent = `${flight.airline} - ${flight.destination}`;
            document.getElementById('details-flight-number').textContent = flight.flightNumber;
            document.getElementById('details-airline').textContent = flight.airline;
            
            const statusBadge = document.getElementById('details-status');
            statusBadge.textContent = flight.status;
            statusBadge.className = `status-badge status-${getStatusClass(flight.status)}`;

            document.getElementById('details-grid').innerHTML = `
                <div class="detail-card">
                    <p class="detail-label">Destination</p>
                    <p class="detail-value">${flight.destination}</p>
                </div>
                <div class="detail-card">
                    <p class="detail-label">Departure Time</p>
                    <p class="detail-value">${formatDateTime(flight.departureTime)}</p>
                </div>
                <div class="detail-card">
                    <p class="detail-label">Arrival Time</p>
                    <p class="detail-value">${formatDateTime(flight.arrivalTime)}</p>
                </div>
                <div class="detail-card">
                    <p class="detail-label">Gate</p>
                    <p class="detail-value">${flight.gate || 'TBD'}</p>
                </div>
                <div class="detail-card">
                    <p class="detail-label">Terminal</p>
                    <p class="detail-value">${flight.terminal}</p>
                </div>
                <div class="detail-card">
                    <p class="detail-label">Flight Duration</p>
                    <p class="detail-value">${calculateDuration(flight.departureTime, flight.arrivalTime)}</p>
                </div>
            `;

            showPage('details');
            // Keep details nav state
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        }

        // Edit flight
        function editFlight(id) {
            const flight = flights.find(f => f.id === id);
            if (!flight) return;

            document.getElementById('flight-id').value = flight.id;
            document.getElementById('flight-number').value = flight.flightNumber;
            document.getElementById('flight-airline').value = flight.airline;
            document.getElementById('flight-destination').value = flight.destination;
            document.getElementById('flight-departure').value = flight.departureTime;
            document.getElementById('flight-arrival').value = flight.arrivalTime;
            document.getElementById('flight-gate').value = flight.gate || '';
            document.getElementById('flight-terminal').value = flight.terminal;
            document.getElementById('flight-status').value = flight.status;

            showPage('add');
            document.querySelector('.page-title').textContent = 'Edit Flight';
        }

        function editCurrentFlight() {
            if (currentFlightId) editFlight(currentFlightId);
        }

        // Save flight (add or update)
        function saveFlight(event) {
            event.preventDefault();

            const id = document.getElementById('flight-id').value;
            const flightData = {
                flightNumber: document.getElementById('flight-number').value,
                airline: document.getElementById('flight-airline').value,
                destination: document.getElementById('flight-destination').value,
                departureTime: document.getElementById('flight-departure').value,
                arrivalTime: document.getElementById('flight-arrival').value,
                gate: document.getElementById('flight-gate').value,
                terminal: document.getElementById('flight-terminal').value,
                status: document.getElementById('flight-status').value
            };

            if (id) {
                // Update existing
                const index = flights.findIndex(f => f.id === parseInt(id));
                if (index !== -1) {
                    flights[index] = { ...flights[index], ...flightData };
                    showAlert('Flight updated successfully!');
                }
            } else {
                // Add new
                flightData.id = getNextId();
                flights.push(flightData);
                showAlert('Flight added successfully!');
            }

            saveFlights();
            showPage('list');
            return false;
        }

        // Reset form
        function resetForm() {
            document.getElementById('addFlightForm').reset();
            document.getElementById('flight-id').value = '';
            document.querySelector('#page-add .page-title').textContent = 'Add Flight';
            
            // Set default times
            const now = new Date();
            const later = new Date(now.getTime() + 2 * 60 * 60 * 1000);
            document.getElementById('flight-departure').value = now.toISOString().slice(0, 16);
            document.getElementById('flight-arrival').value = later.toISOString().slice(0, 16);
        }

        function cancelForm() {
            showPage('list');
        }

        // Delete flight
        function showDeleteModal(id) {
            const flight = flights.find(f => f.id === id);
            if (!flight) return;

            flightToDelete = id;
            document.getElementById('delete-flight-number').textContent = flight.flightNumber;
            document.getElementById('deleteModal').classList.add('active');
        }

        function closeDeleteModal() {
            flightToDelete = null;
            document.getElementById('deleteModal').classList.remove('active');
        }

        function confirmDelete() {
            if (flightToDelete) {
                flights = flights.filter(f => f.id !== flightToDelete);
                saveFlights();
                closeDeleteModal();
                showAlert('Flight deleted successfully!');
                showPage('list');
            }
        }

        function deleteCurrentFlight() {
            if (currentFlightId) showDeleteModal(currentFlightId);
        }

        // Search flights
        function searchFlights() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const statusFilter = document.getElementById('search-status').value;

            let results = flights.filter(flight => {
                const matchesQuery = !query || 
                    flight.flightNumber.toLowerCase().includes(query) ||
                    flight.airline.toLowerCase().includes(query) ||
                    flight.destination.toLowerCase().includes(query);
                
                const matchesStatus = !statusFilter || flight.status === statusFilter;

                return matchesQuery && matchesStatus;
            });

            const tbody = document.getElementById('search-results');
            const noResults = document.getElementById('no-results');

            if (results.length === 0) {
                tbody.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';
            tbody.innerHTML = results.map(flight => `
                <tr>
                    <td style="font-weight: 600; color: #f1f5f9;">${flight.flightNumber}</td>
                    <td>${flight.airline}</td>
                    <td>${flight.destination}</td>
                    <td>${formatDateTime(flight.departureTime)}</td>
                    <td><span class="status-badge status-${getStatusClass(flight.status)}">${flight.status}</span></td>
                    <td>
                        <a class="action-link" onclick="viewFlight(${flight.id})">View</a>
                        <a class="action-link edit" onclick="editFlight(${flight.id})">Edit</a>
                    </td>
                </tr>
            `).join('');
        }

        // Update clock
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
        }

        // Initialize
        setInterval(updateClock, 1000);
        updateClock();
        updateDashboard();
    </script>
</body>
</html>
