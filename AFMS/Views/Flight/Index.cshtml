@model IEnumerable<AFMS.Models.Flight>

@{
    ViewData["Title"] = "All Flights";
}

<!-- Page Header -->
<div class="page-header" style="display: flex; justify-content: space-between; align-items: center;">
    <div>
        <h1 class="page-title">All Flights</h1>
        <p class="page-subtitle">View and manage all flights in the system</p>
    </div>
    <a href="@Url.Action("Add", "Flight")" class="btn-primary" style="padding: 12px 24px; background: var(--accent-blue); color: white; border-radius: 8px; text-decoration: none; font-weight: 500;">
        + Add New Flight
    </a>
</div>

@if (TempData["SuccessMessage"] != null)
{
    <div style="background: #10b981; color: white; padding: 12px 20px; border-radius: 8px; margin-bottom: 20px;">
        @TempData["SuccessMessage"]
    </div>
}

<!-- Flights Section -->
<div class="flights-section">
    <div class="table-wrapper">
        <table class="flights-table">
            <thead>
                <tr>
                    <th>Flight #</th>
                    <th>Airline</th>
                    <th>Destination</th>
                    <th>Departure</th>
                    <th>Arrival</th>
                    <th>Gate</th>
                    <th>Terminal</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var flight in Model)
                {
                    var statusClass = flight.Status?.ToLower().Replace(" ", "") switch
                    {
                        "ontime" => "status-ontime",
                        "delayed" => "status-delayed",
                        "cancelled" => "status-cancelled",
                        "boarding" => "status-boarding",
                        "departed" => "status-departed",
                        "arrived" => "status-arrived",
                        _ => "status-scheduled"
                    };
                    
                    <tr>
                        <td class="flight-number">@flight.FlightNumber</td>
                        <td>@flight.Airline</td>
                        <td>@flight.Destination</td>
                        <td>@flight.DepartureTime.ToString("MMM dd, HH:mm")</td>
                        <td>@flight.ArrivalTime.ToString("MMM dd, HH:mm")</td>
                        <td>@(flight.Gate ?? "TBD")</td>
                        <td>Terminal @flight.Terminal</td>
                        <td>
                            <span class="status-badge @statusClass">@flight.Status</span>
                        </td>
                        <td class="actions-cell">
                            <a href="@Url.Action("Details", "Flight", new { id = flight.Id })" class="action-link view">View</a>
                            <a href="@Url.Action("Edit", "Flight", new { id = flight.Id })" class="action-link edit">Edit</a>
                            <a href="@Url.Action("Delete", "Flight", new { id = flight.Id })" class="action-link delete">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        @if (!Model.Any())
        {
            <div class="empty-state">
                <p style="font-size: 18px; margin-bottom: 8px;">No flights found</p>
                <p>Click "Add New Flight" to create your first flight.</p>
            </div>
        }
    </div>
</div>
